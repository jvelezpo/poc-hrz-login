'use strict';

const chalk = require('chalk');

const BackendStandardsChecker = require('../../../scripts/utils/check-backend-standards');

exports.command = 'backend-quality-standards';

exports.desc = 'Check backend best practices';

exports.builder = {
};

exports.handler = async function () {

    console.log('Running checks in', process.cwd());

    const checker = new BackendStandardsChecker(process.cwd());
    const complies = await checker.complies();
    if (!complies) {
        process.exit(1);
    }
    else {
        console.log(chalk.green('All checks OK'));
    }
};
